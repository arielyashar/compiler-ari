(load "const.scm")
(load "compiler.scm")

(equal?
(make-const-tbl (list (fully-parse `((a b 2 4 #t) #t 12 ,(void) 1 "sdf" "s" s 
'#(a b c 123 1 (a b))))) 100)

`((100 #t ("T_BOOL" 1)) (102 4 ("T_INTEGER" 4))
 (104 2 ("T_INTEGER" 2)) (106 "a" ("T_STRING" 97 0))
 (109 a ("T_SYMBOL" 106)) (111 "b" ("T_STRING" 98 0))
 (114 b ("T_SYMBOL" 111)) (116 "c" ("T_STRING" 99 0))
 (119 c ("T_SYMBOL" 116)) (121 123 ("T_INTEGER" 123))
 (123 1 ("T_INTEGER" 1)) (125 () ("T_NIL"))
 (126 (b) ("T_PAIR" 114 125)) (129 (a b) ("T_PAIR" 109 126))
 (132 #(a b c 123 1 (a b))
      ("T_VECTOR" 6 109 114 119 121 123 129))
 (140 "s" ("T_STRING" 115 0))
 (143 "sdf" ("T_STRING" 115 100 102 0))
 (148 ,(void) ("T_VOID")) (149 12 ("T_INTEGER" 12))
 (151 (#t) ("T_PAIR" 100 125))
 (154 (12 #t) ("T_PAIR" 149 151))
 (157 (,(void) 12 #t) ("T_PAIR" 148 154))
 (160 (1 ,(void) 12 #t) ("T_PAIR" 123 157))
 (163 ("sdf" 1 ,(void) 12 #t) ("T_PAIR" 143 160))
 (166 ("s" "sdf" 1 ,(void) 12 #t) ("T_PAIR" 140 163))
 (169 (#(a b c 123 1 (a b)) "s" "sdf" 1 ,(void) 12 #t)
      ("T_PAIR" 132 166))
 (172 (2 #(a b c 123 1 (a b)) "s" "sdf" 1 ,(void) 12 #t)
      ("T_PAIR" 104 169))
 (175 (4 2 #(a b c 123 1 (a b)) "s" "sdf" 1 ,(void) 12 #t)
      ("T_PAIR" 102 172))
 (178 (#t 4 2 #(a b c 123 1 (a b)) "s" "sdf" 1 ,(void) 12 #t)
      ("T_PAIR" 100 175)))
)
